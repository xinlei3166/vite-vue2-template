import{_ as o,I as r,d,u as h,a as $,b as F,c as O,e as u,l as M,m as L,r as z,n as m,f as k,g as E,h as A,w as N,i as D,o as K}from"./index-47f5c5d7.js";import{u as p}from"./theme-523b49f1.js";import{_ as R}from"./logo-64ba4bd3.js";function H(l,t){let e=l;const s=[].concat(t);let a=0;for(a;a<s.length-1;a++){const n=s[a];e=e[n]}return{o:e,k:s[a],v:e==null?void 0:e[s[a]]}}function I(l,t){const e={};return l.reduce((s,a)=>{const n=H(a,t);return e[n.v]||(e[n.v]=s.push(a)),s},[])}var T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"};const P=T,U={name:"IconBellOutlined",displayName:"BellOutlined",functional:!0,props:o({},r.props),render:function(t,e){var s=e.data,a=e.children,n=e.props;return t(r,o({},s,{props:o({},s.props,n,{icon:P})}),a)}};var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const W=V,q={name:"IconCloseOutlined",displayName:"CloseOutlined",functional:!0,props:o({},r.props),render:function(t,e){var s=e.data,a=e.children,n=e.props;return t(r,o({},s,{props:o({},s.props,n,{icon:W})}),a)}};var j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};const J=j,Y={name:"IconLoginOutlined",displayName:"LoginOutlined",functional:!0,props:o({},r.props),render:function(t,e){var s=e.data,a=e.children,n=e.props;return t(r,o({},s,{props:o({},s.props,n,{icon:J})}),a)}};var G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};const Q=G,X={name:"IconMenuFoldOutlined",displayName:"MenuFoldOutlined",functional:!0,props:o({},r.props),render:function(t,e){var s=e.data,a=e.children,n=e.props;return t(r,o({},s,{props:o({},s.props,n,{icon:Q})}),a)}};var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};const ee=Z,te={name:"IconMenuUnfoldOutlined",displayName:"MenuUnfoldOutlined",functional:!0,props:o({},r.props),render:function(t,e){var s=e.data,a=e.children,n=e.props;return t(r,o({},s,{props:o({},s.props,n,{icon:ee})}),a)}};var se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};const ae=se,ne={name:"IconSettingOutlined",displayName:"SettingOutlined",functional:!0,props:o({},r.props),render:function(t,e){var s=e.data,a=e.children,n=e.props;return t(r,o({},s,{props:o({},s.props,n,{icon:ae})}),a)}},le=d({__name:"Nav",setup(l){h((_,f)=>({"82e7ee22":f.theme.height}));const t=p(),e=$(),s=F(),a=O(),n=u(()=>s.Userinfo);return{__sfc:!0,theme:t,router:e,userStore:s,menuStore:a,userinfo:n,onLogout:async()=>{const _=await M();!_||_.code!==0||L.success({content:"退出登录成功",duration:1,onClose:()=>{z(),s.cleanup(),a.cleanup(),e.push("/login").catch(()=>{})}})},BellOutlined:U,LoginOutlined:Y}}}),oe="/vite-vue2-template/assets/avatar-4ef6186b.png";var ce=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"layout-nav"},[e(s.BellOutlined,{staticClass:"layout-header-icon"}),e("a-dropdown",{scopedSlots:t._u([{key:"overlay",fn:function(){return[e("a-menu",[e("a-menu-item",{on:{click:s.onLogout}},[e(s.LoginOutlined,{staticClass:"menu-item-icon"}),t._v(" 退出登录 ")],1)],1)]},proxy:!0}])},[e("span",{staticClass:"dropdown-link"},[e("span",{staticClass:"dropdown-img-wrap"},[e("img",{staticClass:"dropdown-img",attrs:{src:oe}})]),e("span",{staticClass:"dropdown-text"},[t._v(t._s(s.userinfo.name))])])])],1)},ie=[],re=m(le,ce,ie,!1,null,"e56b214f",null,null);const ue=re.exports,de=d({__name:"Logo",setup(l){h((n,i)=>({"176af10c":i.width,"9af30234":i.theme.height}));const t="Vue App",e=p(),s=u(()=>e.value.collapsed?e.value.collapsedWidth:e.value.width),a=u(()=>e.value.layout==="mix");return{__sfc:!0,title:t,theme:e,width:s,mix:a}}});var me=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"layout-logo"},[e("router-link",{staticClass:"logo-link",attrs:{to:"/"}},[e("img",{staticClass:"logo-img",attrs:{src:R,alt:"logo"}}),!s.theme.collapsed||s.mix?e("h1",{staticClass:"logo-text"},[t._v(t._s(s.title))]):t._e()])],1)},pe=[],_e=m(de,me,pe,!1,null,"50d2de93",null,null);const S=_e.exports,he=d({__name:"Siderbar",setup(l){h((c,v)=>({"8d993740":v.theme.height}));const t=k(),e=O(),s=p(),a=u(()=>E),n=A({rootSubmenuKeys:a.value.filter(c=>c.name).map(c=>c.name),openKeys:[],selectedKeys:[]}),i=c=>{var y,C,w,x,b;const B=c.matched.length>2?(y=c.matched[1])==null?void 0:y.name:c.name,g=(w=(C=c.matched[0])==null?void 0:C.meta)!=null&&w.link?(x=c.matched[0])==null?void 0:x.name:B;n.selectedKeys.includes(g)||(n.selectedKeys=[g]),s.value.collapsed||(n.openKeys=[(b=c.matched[0])==null?void 0:b.name])};return N(t,i,{immediate:!0}),{__sfc:!0,route:t,store:e,theme:s,routes:a,menuState:n,changeRoute:i,onOpenChange:c=>{n.openKeys=c},onCollapse:(c,v)=>{c?n.openKeys=[]:i(t)},Logo:S,MenuUnfoldOutlined:te,MenuFoldOutlined:X}}});var ve=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("a-layout-sider",{class:["layout-sider",{"layout-sider-mix":s.theme.layout==="mix"}],attrs:{theme:s.theme.theme,collapsible:"",width:s.theme.width,"collapsed-width":s.theme.collapsedWidth},on:{collapse:s.onCollapse},scopedSlots:t._u([{key:"trigger",fn:function(){return[s.theme.collapsed?e(s.MenuUnfoldOutlined,{staticClass:"trigger"}):e(s.MenuFoldOutlined,{staticClass:"trigger"})]},proxy:!0}]),model:{value:s.theme.collapsed,callback:function(a){t.$set(s.theme,"collapsed",a)},expression:"theme.collapsed"}},[s.theme.layout!=="mix"?e(s.Logo):t._e(),e("div",{staticClass:"layout-menu-wrap"},[e("a-menu",{staticClass:"sider-menu",attrs:{"open-keys":s.menuState.openKeys,theme:s.theme.theme,mode:s.theme.mode},on:{openChange:s.onOpenChange},model:{value:s.menuState.selectedKeys,callback:function(a){t.$set(s.menuState,"selectedKeys",a)},expression:"menuState.selectedKeys"}},[t._l(s.routes,function(a){var n;return[a.meta.link&&!a.meta.hidden?e("a-menu-item",{key:a.name},[e("router-link",{staticClass:"menu-item-link",attrs:{to:{name:(n=a.children[0])==null?void 0:n.name}}},[e("icon",{staticClass:"menu-item-icon",attrs:{type:a.meta.icon}}),e("span",{staticClass:"menu-item-title"},[t._v(t._s(a.meta.title))])],1)],1):a.meta.hidden?t._e():e("a-sub-menu",{key:a.name,scopedSlots:t._u([{key:"title",fn:function(){return[e("icon",{staticClass:"menu-item-icon",attrs:{type:a.meta.icon}}),e("span",{staticClass:"menu-item-title"},[t._v(t._s(a.meta.title))])]},proxy:!0}],null,!0)},[t._l(a.children,function(i){return[i.meta.hidden?t._e():e("a-menu-item",{key:i.name},[e("router-link",{staticClass:"menu-item-link",attrs:{to:{name:i.name}}},[e("span",{staticClass:"menu-item-title"},[t._v(t._s(i.meta.title))])])],1)]})],2)]})],2)],1)],1)},fe=[],ge=m(he,ve,fe,!1,null,"9592615c",null,null);const ye=ge.exports,Ce=d({setup(){const l=k(),t=u(()=>{const s=l.matched.filter(a=>a.name).map(a=>({meta:a.meta,name:a.name,path:a.path}));return I(s,"path")}),e=u(()=>t.value.length-1);return{routes:t,lastIndex:e}}});var we=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("a-breadcrumb",{attrs:{routes:t.routes},scopedSlots:t._u([{key:"itemRender",fn:function({route:s,routes:a}){return[a.indexOf(s)===t.lastIndex?e("span",[t._v(" "+t._s(s.meta.title)+" ")]):e("router-link",{attrs:{to:s.path}},[t._v(t._s(s.meta.title))])]}}])})},xe=[],be=m(Ce,we,xe,!1,null,"5b04c79d",null,null);const $e=be.exports,Oe=d({components:{SettingOutlined:ne,CloseOutlined:q},setup(){const l=D(!1),t=p();K(()=>{e()});const e=()=>{const a=document.querySelector("html");a==null||a.classList.toggle("dark",t.value.theme==="dark")};return{visible:l,theme:t,onChangeTheme:()=>{e()}}}});var ke=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.visible,expression:"!visible"}],staticClass:"setting-drawer-btn-wrap",on:{click:function(s){t.visible=!0}}},[e("SettingOutlined",{staticClass:"setting-drawer-btn"})],1),e("a-drawer",{staticClass:"setting-drawer",attrs:{visible:t.visible,placement:"right",width:"280px",closable:!1},scopedSlots:t._u([{key:"handle",fn:function(){return[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"setting-drawer-btn-wrap",staticStyle:{right:"280px","z-index":"2000"},on:{click:function(s){t.visible=!t.visible}}},[e("CloseOutlined",{staticClass:"setting-drawer-btn"})],1)]},proxy:!0}])},[e("div",[e("h3",{staticClass:"drawer-title"},[t._v("系统布局配置")]),e("div",{staticClass:"drawer-item"},[e("span",[t._v("布局方式")]),e("a-select",{staticClass:"select",model:{value:t.theme.layout,callback:function(s){t.$set(t.theme,"layout",s)},expression:"theme.layout"}},[e("a-select-option",{attrs:{value:"side"}},[t._v("侧边")]),e("a-select-option",{attrs:{value:"mix"}},[t._v("混合")])],1)],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("主题色")]),e("a-select",{staticClass:"select",on:{change:t.onChangeTheme},model:{value:t.theme.theme,callback:function(s){t.$set(t.theme,"theme",s)},expression:"theme.theme"}},[e("a-select-option",{attrs:{value:"dark"}},[t._v("暗黑")]),e("a-select-option",{attrs:{value:"light"}},[t._v("明亮")])],1)],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("菜单类型")]),e("a-select",{staticClass:"select",model:{value:t.theme.mode,callback:function(s){t.$set(t.theme,"mode",s)},expression:"theme.mode"}},[e("a-select-option",{attrs:{value:"vertical"}},[t._v("垂直")]),e("a-select-option",{attrs:{value:"inline"}},[t._v("内嵌")])],1)],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("顶部高度")]),e("a-select",{staticClass:"select",model:{value:t.theme.height,callback:function(s){t.$set(t.theme,"height",s)},expression:"theme.height"}},[e("a-select-option",{attrs:{value:"48px"}},[t._v("48px")]),e("a-select-option",{attrs:{value:"64px"}},[t._v("64px")])],1)],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("侧边栏宽度")]),e("a-input",{staticClass:"select",model:{value:t.theme.width,callback:function(s){t.$set(t.theme,"width",s)},expression:"theme.width"}})],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("顶部随主题色(混合布局)")]),e("a-switch",{model:{value:t.theme.headerTheme,callback:function(s){t.$set(t.theme,"headerTheme",s)},expression:"theme.headerTheme"}})],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("侧边栏折叠")]),e("a-switch",{model:{value:t.theme.collapsed,callback:function(s){t.$set(t.theme,"collapsed",s)},expression:"theme.collapsed"}})],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("显示面包屑")]),e("a-switch",{model:{value:t.theme.showBreadcrumb,callback:function(s){t.$set(t.theme,"showBreadcrumb",s)},expression:"theme.showBreadcrumb"}})],1)])])],1)},Se=[],Be=m(Oe,ke,Se,!1,null,"504bb050",null,null);const Fe=Be.exports,Me=d({__name:"index",setup(l){h((n,i)=>({"55e27567":i.theme.height}));const t=["development","github"].includes("github"),e=$(),s=p(),a=u(()=>window.self===window.top&&!window.__POWERED_BY_WUJIE__);return{__sfc:!0,isDev:t,router:e,theme:s,layout:a,Nav:ue,Siderbar:ye,Breadcrumb:$e,Setting:Fe,Logo:S}}});var Le=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return s.layout?e("a-layout",{style:{overflow:"auto",height:"100vh"},attrs:{id:"layout"}},[e("div",{staticClass:"layout-fixed-stuff",style:{width:s.theme.collapsed?s.theme.collapsedWidth:s.theme.width}}),e(s.Siderbar),e("a-layout",[s.theme.layout==="mix"?e("header",{class:["layout-header-mix",{dark:!s.theme.headerTheme}]},[e(s.Logo),e("a-layout-header",{staticClass:"layout-header"},[e(s.Nav)],1)],1):e("a-layout-header",{class:["layout-header"]},[e(s.Nav)],1),e("a-layout-content",{class:["layout-content-wrap",{"layout-content-wrap-mix":s.theme.layout==="mix"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.theme.showBreadcrumb,expression:"theme.showBreadcrumb"}],staticClass:"layout-breadcrumb"},[e(s.Breadcrumb)],1),e("div",{staticClass:"layout-content"},[e("router-view")],1)])],1),s.isDev?e(s.Setting):t._e()],1):e("router-view")},ze=[],Ee=m(Me,Le,ze,!1,null,"2c3694b8",null,null);const Ke=Ee.exports;export{Ke as default};
